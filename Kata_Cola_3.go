//  Убрана вложенная функция printComponentInfo - в Go нельзя объявлять функции внутри других функций
//  Добавлена структурированная нумерация компонентов через слайс структур
//  Исправлен ввод пользователя - теперь обрабатываются числовые значения
//  Добавлена проверка корректности ввода
//  Сохранен порядок вывода компонентов как в оригинале
//  Улучшена обработка ошибок ввода

package main

import (
	"fmt"
)

// Переносим функцию на уровень пакета
func printComponentInfo(component, description string) {
	fmt.Printf("\n%s:\n", component)
	fmt.Printf("Описание и влияние на организм: %s\n", description)
}

func printDrinkIngredientsInfo() {
	fmt.Println("\nСостав напитка:")

	// Используем слайс для сохранения порядка элементов
	components := []struct {
		name        string
		description string
	}{
		{"Вода", "основной компонент напитка. В умеренных количествах безопасна для потребления."},
		{"Сахар", "естественный подсластитель. Избыточное потребление может привести к ожирению и диабету."},
		{"Краситель e150d", "придает цвет напиткам. В малых количествах безопасен, но возможны аллергические реакции."},
		{"Регулятор кислотности e338", "регулирует уровень pH. В больших количествах может вызвать раздражение желудка."},
		{"Ароматизаторы", "придают напитку вкус и аромат. Могут вызывать аллергические реакции у чувствительных лиц."},
		{"Кофеин (не более 150 мг/л)", "стимулирует центральную нервную систему. В умеренных количествах безопасен, но избыток может вызвать бессонницу и нервозность."},
		{"Подсластители (E950, E951, E952, E954)", "используются для придания сладости без добавления сахара. Безопасны в рекомендованных дозах, но возможны побочные эффекты."},
		{"Стабилизатор e414", "сохраняет консистенцию напитка. В малых количествах безопасен, но возможны расстройства ЖКТ при больших дозах."},
	}

	// Меню выбора компонента
	fmt.Println("Выберите компонент для получения информации (1-8):")
	for i, component := range components {
		fmt.Printf("%d: %s\n", i+1, component.name) // Нумерация с 1
	}

	// Получение выбора пользователя
	var choice int
	fmt.Print("Ваш выбор: ")
	_, err := fmt.Scan(&choice)
	if err != nil || choice < 1 || choice > len(components) {
		fmt.Println("Неверный выбор. Пожалуйста, выберите номер из меню.")
		return
	}

	// Вывод информации по выбранному номеру
	selected := components[choice-1] // Корректировка индекса
	printComponentInfo(selected.name, selected.description)
}

func main() {
	printDrinkIngredientsInfo()
}
